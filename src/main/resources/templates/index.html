<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="inicio.css">
    <title>Principal</title>
  </head>
  <body>

    <section>
      <nav>
        <ul class="nav nav-tabs shadow-sm p-2 mb-5 bg-body rounded"  id="barra-de-nav">            
            <li class="nav-item">
              <a href="/"><img src="/Imagenes/logo.png" alt="logo" href="/" class="logo"></a>
            </li>
            <li class="nav-item">                
                <a class="nav-link text-warning logo" href="/">EggNews</a>
            </li>
            <li>
                <a class="btn btn-link" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
                    Agregar noticia
                  </a>
                  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
                    <div class="offcanvas-header">
                      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Agregar Noticia</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div>
                            <form action="/" method="post" enctype="multipart/form-data">
                              <div class="mb-3">
                                <label for="exampleInputEmail1" class="form-label"
                                  >Titulo</label
                                >
                                <input
                                  name="titulo"
                                  class="form-control"
                                  type="text"
                                  placeholder="Titulo de la noticia"
                                  aria-label="default input example"
                                />
                              </div>
                              <div class="mb-3">
                                <label for="exampleFormControlTextarea1" class="form-label">Cuerpo</label>
                                <textarea class="form-control" name="cuerpo" id="exampleFormControlTextarea1" rows="3" placeholder="Escriba el cuerpo de la noticia"></textarea>
                              </div>
                              <div class="mb-3">
                                <label for="formFileSm" class="form-label">Foto</label>
                                <input class="form-control form-control-sm" name="archivo" id="formFileSm" type="file">
                              </div>
                              <div th:if="${error != null}" class="alert alert-danger" role="alert">
                                <p th:text="${error}"></p>
                              </div>
                              <button type="submit" class="btn btn-outline-warning">Enviar</button>
                            </form>
                          </div>
                        <ul class="dropdown-menu">
                          <li><a class="dropdown-item" href="#">Action</a></li>
                          <li><a class="dropdown-item" href="#">Another action</a></li>
                          <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
            </li>
          </ul>
    </nav>
    </section>
    
    <div th:if="${exito != null}" class="alert alert-success" role="alert">
      <p th:text="${exito}"></p>
    </div>
    <section>
      <div id="noticiass">
        <div th:each="noticias : ${noticia}" class="card">
        <img th:text="noticias.foto.id" class="card-img-top" alt="foto de la noticia">
        <div class="card-body">
          <h5 class="card-title" th:text="${noticias.titulo}"></h5>
          <p class="card-text" th:text="${noticias.cuerpo}"></p>
          <a href="/" class="btn btn-outline-warning">Ver Noticia</a>
        </div>
      </div>
      </div>
      
    </section>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
      integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
      integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
